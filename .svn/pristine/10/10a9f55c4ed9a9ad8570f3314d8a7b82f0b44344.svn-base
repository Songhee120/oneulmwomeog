package com.astral.app.review.dao;

import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;

import com.astral.app.review.vo.ReviewVO;
import com.astral.mybatis.config.SqlMapConfig;

public class ReviewDAO {
	private static final int KEY = 3;

	SqlSessionFactory sessionf = SqlMapConfig.getSqlMapInstance();
	SqlSession sql_session;

	public ReviewDAO() {
		// 세션 팩토리로 세션을 열어주고 모든 쿼리문은 auto 커밋으로 설정
		sql_session = sessionf.openSession(true);
	}
	
	//회원번호
	public int memberSeq(String mem_id) {
		return sql_session.selectOne("review.memberSeq", mem_id);
	}
	//게시글 번호
	public int getReviewSeq() {
		return sql_session.selectOne("review.getSeq");
	}
	//게시글 추가
	public boolean insertReview(ReviewVO r_vo) {
		return sql_session.insert("review.insertReview", r_vo) == 1;
	}
	//히스토리 테이블 조회
	
}
