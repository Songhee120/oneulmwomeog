package com.astral.app.scrap;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.astral.action.Action;
import com.astral.action.ActionForward;
import com.astral.app.scrap.dao.ScrapDAO;

public class ScrapDeleteAction implements Action {

	
		@Override
		public ActionForward execute(HttpServletRequest req, HttpServletResponse resp) throws Exception {
			req.setCharacterEncoding("UTF-8");
			resp.setCharacterEncoding("UTF-8");
			HttpSession session = req.getSession();
			ScrapDAO s_dao = new ScrapDAO();
			
			ActionForward forward = new ActionForward();
			
			int mem_no = (Integer)session.getAttribute("mem_no");
			
			s_dao.deleteScrap(mem_no);
			
			
			
			forward.setPath(req.getContextPath() + "/scrap/ScrapList.sc");
			forward.setRedirect(true);
			
			return forward;
		
	}

}
