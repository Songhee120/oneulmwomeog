CREATE SEQUENCE MEM_SEQ;

CREATE TABLE TBL_MEMBER(
	MEM_NO NUMBER(10),
	MEM_ID VARCHAR2(100) NOT NULL,
	MEM_PW VARCHAR2(100) NOT NULL,
	MEM_NAME VARCHAR2(100) NOT NULL,
	MEM_NICKNAME VARCHAR2(100) NOT NULL,
	MEM_TEL VARCHAR2(100) NOT NULL,
	MEM_BIRTH DATE NOT NULL,
	MEM_POINT NUMBER(10) DEFAULT 0,
	MEM_REVIEW_CNT NUMBER(10) DEFAULT 0,
	MEM_HEART NUMBER(10) DEFAULT 0,
	MEM_RANK NUMBER(1) DEFAULT 1,
	CONSTRAINT MEMBER_PK PRIMARY KEY(MEM_NO)
);

SELECT * FROM TBL_MEMBER;

ALTER TABLE TBL_MEMBER ADD MEM_EMAIL VARCHAR(100);
ALTER TABLE TBL_MEMBER DROP COLUMN MEM_PHOTO;


CREATE TABLE TBL_PROFILE_FILES(
	MEM_NO NUMBER(10),
	PROFILE_FILE_NAME VARCHAR2(100),
	CONSTRAINT PROFILE_FILES_FK FOREIGN KEY(MEM_NO) REFERENCES TBL_MEMBER(MEM_NO),
    CONSTRAINT PROFILE_FILES_PK PRIMARY KEY(PROFILE_FILE_NAME)
);

SELECT * FROM TBL_PROFILE_FILES;


CREATE SEQUENCE HIS_SEQ;
CREATE TABLE TBL_HISTORY(
	HISTORY_NO NUMBER(10),
	MEM_NO NUMBER(10),
	RES_NAME VARCHAR2(100),
	RES_ADDRESS VARCHAR2(100),
	RES_URL VARCHAR2(200),
	CONSTRAINT HISTORY_PK PRIMARY KEY(HISTORY_NO),
	CONSTRAINT HISTORY_FK FOREIGN KEY(MEM_NO) REFERENCES TBL_MEMBER(MEM_NO)
);

DROP TABLE TBL_HISTORY;
SELECT * FROM TBL_HISTORY;

INSERT INTO TBL_HISTORY VALUES(HIS_SEQ.NEXTVAL, 60, '버거킹', '인천', 'www.buggerking.com');



